<app-admin-home *ngIf="isAdmin"></app-admin-home>

<ng-container *ngIf="!isAdmin">
  <div class="container mt-4" *ngIf="loading">
    <p>Loading cases...</p>
  </div>
  <div class="container mt-4" *ngIf="error">
    <p class="text-danger">{{ error }}</p>
  </div>

  <div class="container mt-4" *ngIf="!loading && !error">
    <h2 class="mb-4">All Cases</h2>
    <ng-container *ngIf="cases.length > 0; else noCases">
      <article *ngFor="let caseItem of cases" class="card mb-3">
        <div class="card-body">
          <h3 class="card-title">
            <a [routerLink]="['/case', caseItem._id]">{{ caseItem.case_title }}</a>
          </h3>
          <p class="card-text mb-1"><b>Handler:</b> {{ caseItem.case_handler }}</p>
          <p class="card-text mb-1">
            <b>Date:</b>
            {{ caseItem.case_date | date: 'dd-MM-yyyy' }}
          </p>
          <p class="card-text mb-1"><b>Status:</b> {{ caseItem.status }}</p>
          <p class="card-text">
            {{ caseItem.case_description?.substring(0, 150) }}...
          </p>
        </div>
      </article>
    </ng-container>
    <ng-template #noCases>
      <div class="alert alert-info">No cases found.</div>
    </ng-template>
  </div>
</ng-container>
